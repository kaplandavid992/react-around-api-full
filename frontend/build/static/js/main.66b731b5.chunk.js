(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAADCAYAAACJZs+gAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAcSURBVHgBtc0BAQAAAMEw9O+MEl+BuSdQBMODAYJGBALcDtqPAAAAAElFTkSuQmCC"},18:function(e,t,a){e.exports=a.p+"static/media/logoAroundUS.ace90378.svg"},21:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAACbSURBVEhL7ZBBDYAwEAQLSnCABSTgACQgAWdIQQISym2yJX3c4x7L7yZprrRkJlAatdbJ1oXJIz2M3LYApj4GKeU9+pgJ8bs8tDHIKPXIWAzIKPXIWAzIKPXIWAzIKPXIWAzIKPXIWAzIKPU4+JoGE3qxk9daTNzHvojtca6NUrrzsY8/PNLTRRrLyDs1G2djHbj5BXyJjbWUMr/HxsJPCkz7YQAAAABJRU5ErkJggvAaB0RS2gF1wtR71ScdVwAAAABJRU5ErkJggg=="},24:function(e,t,a){e.exports=a.p+"static/media/loader.31d6f25e.gif"},25:function(e,t){e.exports="data:image/png;base64,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"},26:function(e,t){e.exports="data:image/png;base64,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"},29:function(e,t,a){e.exports=a(45)},37:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),c=a.n(o),i=(a(37),a(27)),l=a(11),s=a(1),u=a(8),m=a.n(u);var p=function(e){var t=e.isOpen,a=e.name,n=e.onClose,o=e.title,c=e.children,i=e.buttonText,l=e.onSubmit,s=t?"popup_active":"";return r.a.createElement("div",{className:"popup ".concat(s),id:a},r.a.createElement("div",{className:"popup__window"},r.a.createElement("button",{className:"popup__exit-btn",type:"reset","aria-label":"",onClick:n},r.a.createElement("img",{className:"popup__exit-icon",src:m.a,alt:"exit icon button"})),r.a.createElement("form",{className:"popup__form",name:a,noValidate:!0,onSubmit:l},r.a.createElement("h2",{className:"popup__form-header"},o),c,r.a.createElement("button",{className:"popup__form-submit-btn",type:"submit","aria-label":""},i))))};var d=function(e){var t=e.isOpen,a=e.onClose,n=e.card,o=e.text,c=t?"popup_active":"";return r.a.createElement("div",{className:"popup ".concat(c),id:"imagePopUp"},r.a.createElement("div",{className:"popup__window popup__window_imagePopUp"},r.a.createElement("button",{className:"popup__exit-btn",type:"reset","aria-label":"",onClick:a},r.a.createElement("img",{className:"popup__exit-icon",src:m.a,alt:"exit icon button"})),r.a.createElement("img",{src:n,className:"popup__imagePopUp",alt:"view of ".concat(o)}),r.a.createElement("p",{className:"popup__imagePopUp-text"},o)))},A=a(18),g=a.n(A),f=a(2),h=a(13),b=a.n(h);function E(e){var t=e.expandedIsHidden,a=e.handleExpand,n=e.handleCollapse;return r.a.createElement("div",{className:"header__hamburger ".concat(t)},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"header__hamburger-icon",src:b.a,alt:"hamburger dropdown menu",onClick:a}),r.a.createElement("img",{className:"header__hamburger-icon",src:b.a,alt:"hamburger dropdown menu",onClick:a}),r.a.createElement("img",{className:"header__hamburger-icon",src:b.a,alt:"hamburger dropdown menu",onClick:a})):r.a.createElement("img",{className:"header__hamburger-icon",src:m.a,alt:"collapse",onClick:n}))}var v=a(7);function C(e){var t=e.headerLink,a=e.logOut,n=e.loggedIn,o=t.email,c=t.path,i=t.text,l=n?"header__links-wrap_hidden":"";return r.a.createElement("div",{className:"header__links-wrap ".concat(l)},r.a.createElement("a",{className:"header__link header__link_email ",href:"mailto:"+o},o),r.a.createElement(v.b,{className:"header__link",onClick:a,to:c},i))}var _=function(e){var t=e.headerLink,a=e.logOut,n=e.expandedIsHidden,o=e.handleCollapse,c=t.email,i=t.path,l=t.text,s=n?"header__expanded_hidden":"";return r.a.createElement("div",{className:"header__expanded  ".concat(s),onClick:o},r.a.createElement("a",{className:"header__expanded-email",href:"mailto:"+c},c),r.a.createElement("a",{className:"header__expanded-link",href:i,onClick:a},l))};var N=function(e){var t=e.loggedIn,a=e.email,o=e.logOut,c={email:"",path:"",text:""},i=Object(f.h)(),l=Object(n.useState)(!0),u=Object(s.a)(l,2),m=u[0],p=u[1],d=function(){p(!0)};return t&&"/"===i.pathname?(c.text="Log out",c.path="/signin",c.email=a):"/signup"===i.pathname?(c.text="Log in",c.path="/signin"):"/signin"===i.pathname&&(c.text="Sign up",c.path="/signup"),r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{logOut:o,headerLink:c,handleCollapse:d,expandedIsHidden:m}),r.a.createElement("div",{className:"header"},r.a.createElement("img",{src:g.a,alt:"around the us logo",className:"header__title-logo"}),t&&r.a.createElement(E,{expandedIsHidden:m,handleExpand:function(){p(!1)},handleCollapse:d}),r.a.createElement(C,{headerLink:c,logOut:o,loggedIn:t})))};var S=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",{className:"footer__text"},"\xa9 2022 Around The U.S."))},k=r.a.createContext();var j=function(e){var t=e.card,a=e.likesCount,o=e.onCardClick,c=e.onCardLike,i=e.onCardDelete,l=e.text,s=e.owner,u=e.likesData,m=e.cardId,p=Object(n.useContext)(k),d=s===p._id,A="button elements__delete-icon ".concat(d?"elements__delete-icon_visible":"elements__delete-icon_hidden"),g=u.some(function(e){return e._id===p._id}),f="button elements__like-btn ".concat(g?"elements__svg-heart_liked":"");return r.a.createElement("li",{className:"elements__element"},r.a.createElement("img",{src:t,alt:" ",className:"elements__image",onClick:function(){o(t,l)}}),r.a.createElement("button",{className:A,onClick:function(){i(m)}}),r.a.createElement("div",{className:"elements__rectangle"},r.a.createElement("h2",{className:"elements__text"},l),r.a.createElement("div",{className:"elements__likesContainer"},r.a.createElement("button",{onClick:function(){c(m,u)},className:f,type:"button","aria-label":""}),r.a.createElement("p",{className:"elements__likesNumber"},a))))},w=a(21),x=a.n(w);var O=function(e){var t=e.onAddPlace,a=e.onEditProfileClick,o=e.onAddPlaceClick,c=e.onEditAvatarClick,i=e.onCardClick,l=e.cards,s=e.onCardLike,u=e.onCardDelete,m=Object(n.useContext)(k),p=m.name,d=m.about,A=m.avatar;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__imageContainer"},r.a.createElement("img",{className:"profile__image",src:A,alt:"face of person matching profile"}),r.a.createElement("img",{className:"profile__editImage",src:x.a,alt:"edit pen icon",onClick:c})),r.a.createElement("div",{className:"profile__text-container"},r.a.createElement("div",{className:"profile__name-edit-container"},r.a.createElement("h1",{className:"profile__name"},p),r.a.createElement("button",{onClick:a,className:"button profile__edit-btn",type:"button","aria-label":""})),r.a.createElement("p",{className:"profile__role"},d)),r.a.createElement("button",{onClick:o,className:"button profile__add-btn",type:"button","aria-label":""})),r.a.createElement("section",{className:"elements"},r.a.createElement("ul",{className:"elements__list"},l.map(function(e){return r.a.createElement(j,{onAddPlace:t,onCardDelete:u,onCardLike:s,onCardClick:i,key:e._id,cardId:e._id,text:e.name,likesCount:e.likes.length,card:e.link,owner:e.owner._id,likesData:e.likes})}))),r.a.createElement(S,null))},I=a(12),L=function(e,t){var a=Object(n.useState)({}),r=Object(s.a)(a,2),o=r[0],c=r[1],i=Object(n.useState)({}),u=Object(s.a)(i,2),m=u[0],p=u[1],d=Object(n.useState)(!1),A=Object(s.a)(d,2),g=A[0],f=A[1];Object(n.useEffect)(function(){0===Object.keys(m).length&&g&&e()},[m]);return{handleChange:function(e){e.persist(),c(function(t){return Object(l.a)({},t,Object(I.a)({},e.target.name,e.target.value))})},handleSubmit:function(e){e&&e.preventDefault(),p(t(o)),f(!0)},values:o,errors:m}};function y(e){var t={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"):t.email="Email address is required",e.password?e.password.length<5&&(t.password="Password must be 5 or more characters"):t.password="Password is required",t}var U=function(e){var t=e.title,a=e.name,n=e.buttonText,o=e.onSubmit,c=e.bottomLinkText,i=e.bottomLinkPath,l=e.onEmailChange,s=e.onPasswordChange,u=L(o,y),m=u.values,p=u.errors,d=u.handleChange,A=u.handleSubmit;return r.a.createElement("div",{className:"formLogSignIn"},r.a.createElement("form",{name:a,noValidate:!0,onSubmit:A},r.a.createElement("h2",{className:"formLogSignIn__header"},t),r.a.createElement("div",{className:"formLogSignIn__form-control"},r.a.createElement("input",{value:m.email||"",id:"email",type:"email",className:"formLogSignIn__form-input ".concat(p.email&&"formLogSignIn_error"),placeholder:"Email",name:"email",required:!0,maxLength:"254",minLength:"3",onChange:function(e){l(e),d(e)}}),p.email&&r.a.createElement("p",{className:"formLogSignIn__err"},p.email)),r.a.createElement("div",{className:"formLogSignIn__form-control"},r.a.createElement("input",{value:m.password||"",id:"password",type:"password",className:"formLogSignIn__form-input ".concat(p.password&&"formLogSignIn_error"),placeholder:"Password",name:"password",required:!0,maxLength:"200",minLength:"2",onChange:function(e){s(e),d(e)}}),p.password&&r.a.createElement("p",{className:"formLogSignIn__err",id:"inputPassword-error"},p.password)),r.a.createElement("button",{className:"formLogSignIn__submitBtn",type:"submit","aria-label":""},n),r.a.createElement("a",{href:i,className:"formLogSignIn__bottomLink"},c)))},B="https://register.nomoreparties.co",P={Accept:"application/json","Content-Type":"application/json"},D=function(e){return e.ok?e.json():Promise.reject("Error ".concat(e.status))},R=function(e,t,a,n){return fetch("".concat(B).concat(e),{method:t,headers:a,body:JSON.stringify(n)}).then(D)},T=function(e){return fetch("".concat(B,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(D)},q=function(e){var t=e.handleLogin,a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(""),u=Object(s.a)(l,2),m=u[0],p=u[1],d=Object(f.g)();return r.a.createElement("div",null,r.a.createElement(U,{title:"Login",name:"Login",buttonText:"Login",onSubmit:function(){c&&m&&function(e,t){return R("/signin","POST",P,{password:e,email:t})}(m,c).then(function(e){if(e)return localStorage.setItem("token",e.token),t(c),d.push("/"),i(""),p(""),e}).catch(function(e){return console.log(e)})},bottomLinkText:"Not a member yet? Sign up here!",bottomLinkPath:"/signup",onEmailChange:function(e){i(e.target.value)},onPasswordChange:function(e){p(e.target.value)}}))};function J(e){var t=e.isOpen,a=e.onClose,o=e.onUpdateUser,c=Object(n.useState)(""),i=Object(s.a)(c,2),l=i[0],u=i[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),A=d[0],g=d[1],f=Object(n.useContext)(k);return Object(n.useEffect)(function(){u(f.name),g(f.about)},[f]),r.a.createElement(p,{onSubmit:function(e){e.preventDefault(),o({name:l,about:A})},isOpen:t,onClose:a,title:"Edit profile",name:"edit__form",buttonText:"Save"},r.a.createElement("div",{className:"popup__form-control"},r.a.createElement("input",{id:"inputName",type:"text",className:"popup__form-input",placeholder:"Name",name:"form__name",defaultValue:l,required:!0,maxLength:"40",minLength:"2",onChange:function(e){u(e.target.value)}}),r.a.createElement("p",{className:"popup__form-errorMsg",id:"inputName-error"})),r.a.createElement("div",{className:"popup__form-control"},r.a.createElement("input",{id:"inputRole",type:"text",className:"popup__form-input",placeholder:"About me",name:"form__role",defaultValue:A,required:!0,maxLength:"200",minLength:"2",onChange:function(e){g(e.target.value)}}),r.a.createElement("p",{className:"popup__form-errorMsg",id:"inputRole-error"})))}function W(e){var t=e.isOpen,a=e.onClose,o=e.onUpdateAvatar,c=Object(n.useContext)(k),i=Object(n.useRef)(c.avatar);return Object(n.useEffect)(function(){t&&(i.current.value="")},[t]),r.a.createElement(p,{onSubmit:function(e){e.preventDefault(),o({avatar:i.current.value})},onClose:a,title:"Change profile picture",name:"editProfileImage__form",isOpen:t,buttonText:"Save"},r.a.createElement("div",{className:"popup__form-control"},r.a.createElement("input",{id:"inputImageLink",type:"url",className:"popup__form-input",placeholder:"Insert new image link",name:"form__imageLink",defaultValue:"",ref:i,required:!0}),r.a.createElement("p",{className:"popup__form-errorMsg",id:"inputImageLink-error"})))}function X(e){var t=e.isOpen,a=e.onClose,o=e.onAddPlaceSubmit,c=Object(n.useState)(""),i=Object(s.a)(c,2),l=i[0],u=i[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),A=d[0],g=d[1];return r.a.createElement(p,{onSubmit:function(e){e.preventDefault(),o({name:l,link:A}),u(""),g("")},title:"Create place",onClose:a,name:"add__form",isOpen:t,buttonText:"Create"},r.a.createElement("div",{className:"popup__form-control"},r.a.createElement("input",{type:"text",className:"popup__form-input",id:"inputTitle",placeholder:"Title",name:"form__title",required:!0,minLength:"1",maxLength:"30",onChange:function(e){u(e.target.value)},value:l||""}),r.a.createElement("p",{className:"popup__form-errorMsg",id:"inputTitle-error"})),r.a.createElement("div",{className:"popup__form-control"},r.a.createElement("input",{id:"inputLink",type:"url",className:"popup__form-input",placeholder:"Image link",name:"form__imageLink",onChange:function(e){g(e.target.value)},value:A||"",required:!0}),r.a.createElement("p",{className:"popup__form-errorMsg",id:"inputLink-error"})))}var K=function(e){var t=e.isOpen,a=e.onClose,n=e.msgData,o=t?"popup_active":"",c=n.imgSrc,i=n.text;return r.a.createElement("div",{className:"popup ".concat(o)},r.a.createElement("div",{className:"popup__window popup__window_msgPopup"},r.a.createElement("button",{className:"popup__exit-btn popup__exit-btn_mobileMsg",type:"reset","aria-label":"",onClick:a},r.a.createElement("img",{className:"popup__exit-icon",src:m.a,alt:"exit icon button"})),r.a.createElement("img",{className:"popup__msgPopup-img",src:c,alt:i}),r.a.createElement("p",{className:"popup__msgPopup-text"},i)))},Q=a(28);var Z=function(e){var t=e.children,a=e.loggedIn,n=Object(Q.a)(e,["children","loggedIn"]);return r.a.createElement(f.b,n,a?t:r.a.createElement(f.a,{to:"/signin"}))},F=a(22),M=a(23),H=function(){function e(t){var a=t.baseUrl,n=t.headers;Object(F.a)(this,e),this._baseUrl=a,this._headers=n}return Object(M.a)(e,[{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}},{key:"postNewCard",value:function(e){var t=e.name,a=e.link;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:a})}).then(this._checkResponse)}},{key:"confirmDelete",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"changeLikeCardStatus",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:t?"PUT":"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse)}},{key:"editUserInfo",value:function(e){var t=e.name,a=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:a})}).then(this._checkResponse)}},{key:"editAvatarImage",value:function(e){var t=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}},{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Error ".concat(e.status))}}]),e}(),V=localStorage.getItem("token");console.log(V);var Y=new H({baseUrl:"https://api.david.students.nomoreparties.sbs",headers:{authorization:V,"Content-Type":"application/json"}}),z=a(24),G=a.n(z),$=a(25),ee=a.n($),te=a(26),ae=a.n(te),ne=function(e){var t=e.setIsPopupMsgOpen,a=e.setMsgData,o=Object(n.useState)(""),c=Object(s.a)(o,2),i=c[0],l=c[1],u=Object(n.useState)(""),m=Object(s.a)(u,2),p=m[0],d=m[1],A=Object(f.g)(),g=function(){A.push("/signin"),a({text:"Success! You have now been registered.",imgSrc:ae.a})};return r.a.createElement(U,{title:"Sign up",name:"Sign up",buttonText:"Sign up",bottomLink:"Already a member yet? Log in here!",onEmailChange:function(e){l(e.target.value)},onPasswordChange:function(e){d(e.target.value)},onSubmit:function(){(function(e,t){return R("/signup","POST",P,{password:e,email:t})})(p,i).then(g).catch(function(e){a({text:"Oops, something went wrong! Please try again.",imgSrc:ee.a}),console.log(e)}).finally(function(){t(!0)})}})};var re=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)({}),u=Object(s.a)(c,2),m=u[0],A=u[1],g=Object(n.useState)(""),h=Object(s.a)(g,2),b=h[0],E=h[1],v=Object(n.useState)({text:"",imgSrc:""}),C=Object(s.a)(v,2),_=C[0],S=C[1],j=Object(f.g)(),w=Object(n.useState)([]),x=Object(s.a)(w,2),I=x[0],L=x[1],y=Object(n.useState)({name:"Loading Name...",about:"Loading Role...",avatar:G.a}),U=Object(s.a)(y,2),B=U[0],P=U[1],D=Object(n.useState)(!1),R=Object(s.a)(D,2),Q=R[0],F=R[1],M=Object(n.useState)(!1),H=Object(s.a)(M,2),V=H[0],z=H[1],$=Object(n.useState)(!1),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],re=Object(n.useState)(!1),oe=Object(s.a)(re,2),ce=oe[0],ie=oe[1],le=Object(n.useState)(!1),se=Object(s.a)(le,2),ue=se[0],me=se[1],pe=Object(n.useState)({}),de=Object(s.a)(pe,2),Ae=de[0],ge=de[1];function fe(){ae(!1),F(!1),z(!1),ie(!1),me(!1),ge({})}return Object(n.useEffect)(function(){Y.getUserInfo().then(function(e){P(e)}).catch(console.log)},[]),Object(n.useEffect)(function(){Y.getInitialCards().then(function(e){L(Array.from(e))}).catch(console.log)},[]),Object(n.useEffect)(function(){var e=function(e){"Escape"===e.key&&fe()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}},[]),Object(n.useEffect)(function(){var e=function(e){e.target.classList.contains("popup_active")&&fe()};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}},[]),Object(n.useEffect)(function(){var e=localStorage.getItem("token");e&&T(e).then(function(t){if(t){var a=t.data.email;o(!0),E(a),A(e)}}).catch(console.log)},[m]),Object(n.useEffect)(function(){a&&j.push("/")},[a]),r.a.createElement(k.Provider,{value:B},r.a.createElement("div",{className:"page"},r.a.createElement(J,{isOpen:Q,onClose:fe,onUpdateUser:function(e){Y.editUserInfo(e).then(function(e){P(e),fe()}).catch(console.log)}}),r.a.createElement(W,{isOpen:te,onClose:fe,onUpdateAvatar:function(e){Y.editAvatarImage(e).then(function(e){P(e),fe()}).catch(console.log)}}),r.a.createElement(X,{isOpen:V,onClose:fe,onAddPlaceSubmit:function(e){Y.postNewCard(e).then(function(e){L([e].concat(Object(i.a)(I))),fe()}).catch(console.log)}}),r.a.createElement(p,{onClose:fe,title:"Are you sure?",name:"confirmDelete__form",buttonText:"Yes"}),r.a.createElement(d,{card:Ae.link,onClose:fe,isOpen:ce,text:Ae.text}),r.a.createElement(K,{isOpen:ue,onClose:fe,msgData:_}),r.a.createElement(N,{loggedIn:a,email:b,logOut:function(){return o(!1),E(""),localStorage.removeItem("token"),j.push("/signin"),!0}}),r.a.createElement(f.d,null,r.a.createElement(Z,{exact:!0,path:"/",loggedIn:a},r.a.createElement(O,{onEditProfileClick:function(){F(!0)},onAddPlaceClick:function(){z(!0)},onEditAvatarClick:function(){ae(!0)},onCardClick:function(e,t){ie(!0),ge(Object(l.a)({},Ae,{link:e,text:t}))},cards:I,onCardLike:function(e,t){var a=t.some(function(e){return e._id===B._id});Y.changeLikeCardStatus(e,!a).then(function(t){L(function(a){return a.map(function(a){return a._id===e?t:a})})})},onCardDelete:function(e){Y.confirmDelete(e).then(function(){L(I.filter(function(t){return t._id!==e}))})}})),r.a.createElement(f.b,{exact:!0,path:"/signup"},r.a.createElement(ne,{setIsPopupMsgOpen:me,setMsgData:S})),r.a.createElement(f.b,{exact:!0,path:"/signin"},r.a.createElement(q,{handleLogin:function(e){o(!0),E(e)}})))))},oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,46)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)})};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v.a,null,r.a.createElement(re,null))),document.getElementById("root")),oe()},8:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADfSURBVHgBxZfRDYMwDEStTtCNm03qjRjpSgS0aRSCnfjESfBBLN77iJxYZA+A5/okISczMqv+mOELtryFlPzvnbF8JSo4WBIFHH8S6+uFdsIkGvAj6ShQlkQHrnVhuIQZzpBwwyMlhuEREtPwGYkw+IhEONwjQYNbJOhwgwQf7pRQYeZCQsWZh/iDwbX5dDZcGc59wgjnSHTgCuJRfgkvajgScDSZcAkMdLgwCUy012kJBPT2YQkEHixuiUi4W4IBN0tgm9UocINEOhvNVILTkDidD1VIKSR+8GLxlvH8A1iFuJ+uSSWUAAAAAElFTkSuQmCC"}},[[29,1,2]]]);
//# sourceMappingURL=main.66b731b5.chunk.js.map